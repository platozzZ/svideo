(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/business/business"],{"0b28":function(e,o,n){"use strict";n.d(o,"b",(function(){return u})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return t}));var t={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"bfec"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"5233"))},uLineProgress:function(){return n.e("uview-ui/components/u-line-progress/u-line-progress").then(n.bind(null,"3a4f"))},uUpload:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-upload/u-upload")]).then(n.bind(null,"5cea"))},uForm:function(){return n.e("uview-ui/components/u-form/u-form").then(n.bind(null,"6c89"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"23ff"))},uInput:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-input/u-input")]).then(n.bind(null,"6ef9"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"4b26"))},uRadioGroup:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-radio-group/u-radio-group")]).then(n.bind(null,"792d"))},uRadio:function(){return n.e("uview-ui/components/u-radio/u-radio").then(n.bind(null,"bd4c"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"4a15"))},uSelect:function(){return n.e("uview-ui/components/u-select/u-select").then(n.bind(null,"db6b"))},uToast:function(){return n.e("uview-ui/components/u-toast/u-toast").then(n.bind(null,"0563"))}},u=function(){var e=this,o=e.$createElement;e._self._c;e._isMounted||(e.e0=function(o){e.pickerShow=!0},e.e1=function(o){e.selectShow=!0})},i=[]},"22d4":function(e,o,n){"use strict";(function(e){var n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t={data:function(){var e=this;return{model:{user_id:"",name:"",real_nam:"",phone:"",address:"",latitude:"",longitude:"",is_two:null,introduce:"",license:"",work_time:"",brand_name:"",brand_id:""},rules:{name:[{required:!0,message:"请输入商家名称",trigger:"blur"}],phone:[{required:!0,message:"请输入联系人手机号"},{validator:function(o,n,t){return e.$u.test.mobile(n)},message:"手机号码不正确"}],real_nam:[{required:!0,message:"请输入联系人姓名"}],work_time:[{required:!0,message:"请选择营业时间"}],brand_id:[{required:!0,message:"请选择品牌"}],latitude:[{required:!0,message:"请选择地址"}],longitude:[{required:!0,message:"请选择地址"}],address:[{required:!0,message:"请输入详细地址"}],is_two:[{required:!0,message:"请选择是否是二级经销商"}],introduce:[{required:!0,message:"请输入商家介绍"}]},chooseAdress:"",labelStyle:{color:"#4C4C4C"},customStyle:{width:"100%"},customStyle2:{width:"auto"},radioList:[{name:"是",value:1,checked:!1,disabled:!1},{name:"否",value:0,checked:!1,disabled:!1}],selectList:[],border:!0,borderColor:"#F6F6F6",pickerShow:!1,selectShow:!1,showUploadList:!1,params:{year:!1,month:!1,day:!1,hour:!0,minute:!0,second:!1},selectResult:"请选择车辆类型",codeTips:"",errorType:["toast"],lists:[]}},onLoad:function(){n=this,console.log(n),n.getBrand(),n.latitude&&n.longitude||n.getLocations(),n.model.user_id=n.userInfo.user_id,console.log(n.model)},onReady:function(){this.$refs.uForm.setRules(this.rules)},methods:{submit:function(){n.$refs.uForm.validate((function(e){e?(n.add(n.model),console.log("验证通过")):console.log("验证失败")}))},add:function(o){console.log(o);var t=e.uploadFile({url:"https://jjsp.autovlog.com.cn/api/distributor/add",formData:o,filePath:o.license,name:"license",success:function(e){if(console.log("uploadTask",e),200==e.statusCode){var o=JSON.parse(e.data);console.log(o),200==o.statusCode?n.showToast("发布成功，等待审核","success",!0):n.showToast(o.message,"warning",!0)}else n.showToast("文件过大","error")}});t.onProgressUpdate((function(o){console.log(o),o.progress<100?e.showLoading({title:"上传中..."}):e.hideLoading()}))},chooseLocations:function(){console.log("chooseLocations"),console.log("that.latitude",n.latitude),console.log("that.longitude",n.longitude),e.chooseLocation({latitude:n.latitude,longitude:n.longitude,success:function(e){console.log(e),n.chooseAdress=e,n.model.latitude=e.latitude,n.model.longitude=e.longitude},fail:function(){}})},getLocations:function(){console.log("getLocations"),e.getLocation({success:function(e){console.log(e),n.$u.vuex("longitude",e.longitude),n.$u.vuex("latitude",e.latitude)},fail:function(e){console.log(e),n.$getSetting(n)}})},radioGroupChange:function(e){console.log(e),n.model.is_two=e},getBrand:function(){n.$u.post("/api/distributor/brand").then((function(e){console.log("getBrand",e),n.selectList=e})).catch((function(e){console.log("getBrand-catch",e)}))},showSelect:function(){n.selectShow=!0},selectConfirm:function(e){console.log(e),n.model.brand_name=e[0].label,n.model.brand_id=e[0].value},timeConfirm:function(e){console.log(e),n.model.work_time=e.hour+":"+e.minute},licenseTips:function(){n.$u.toast("请上传营业执照")},deleteItem:function(e){console.log(e),n.$refs.uUpload.remove(e)},onListChange:function(e,o){if(console.log("onListChange",e),console.log("onListChange",e.length),n.lists=e,0==e.length)return n.model.license="",void console.log(n.model);console.log(n.model),n.model.license=e[0].url},showToast:function(e,o,t){t?n.$refs.uToast.show({title:e,type:o,icon:!1,back:!0}):n.$refs.uToast.show({title:e,type:o,icon:!1})}}};o.default=t}).call(this,n("543d")["default"])},"2a1d":function(e,o,n){"use strict";n.r(o);var t=n("22d4"),u=n.n(t);for(var i in t)"default"!==i&&function(e){n.d(o,e,(function(){return t[e]}))}(i);o["default"]=u.a},"6b2a":function(e,o,n){},c04e:function(e,o,n){"use strict";var t=n("6b2a"),u=n.n(t);u.a},cbde:function(e,o,n){"use strict";(function(e){n("3e13");t(n("66fd"));var o=t(n("faec"));function t(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,n("543d")["createPage"])},faec:function(e,o,n){"use strict";n.r(o);var t=n("0b28"),u=n("2a1d");for(var i in u)"default"!==i&&function(e){n.d(o,e,(function(){return u[e]}))}(i);n("c04e");var s,l=n("f0c5"),r=Object(l["a"])(u["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],s);o["default"]=r.exports}},[["cbde","common/runtime","common/vendor"]]]);