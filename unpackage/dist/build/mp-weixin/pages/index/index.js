(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"4e2d":function(t,e,n){"use strict";n.r(e);var o=n("61e6"),i=n("84b0");for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);n("81d6");var a,r=n("f0c5"),l=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=l.exports},"61e6":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}));var o={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"bfec"))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"b784"))},uGrid:function(){return n.e("uview-ui/components/u-grid/u-grid").then(n.bind(null,"7229"))},uGridItem:function(){return n.e("uview-ui/components/u-grid-item/u-grid-item").then(n.bind(null,"8ac3"))},uWaterfall:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-waterfall/u-waterfall")]).then(n.bind(null,"4260"))},uLazyLoad:function(){return n.e("uview-ui/components/u-lazy-load/u-lazy-load").then(n.bind(null,"dae6"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"f0b1"))},uTabbar:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabbar/u-tabbar")]).then(n.bind(null,"0bdc"))}},i=function(){var t=this,e=t.$createElement;t._self._c},u=[]},"6b0a":function(t,e,n){"use strict";(function(t){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{background:{background:"url(../../static/image/logo.png) center no-repeat",backgroundSize:"172rpx 50rpx",backgroundColor:"#fff"},keyword:"",showAction:!1,swiperList:[],swiperStyle:{textAlign:"center",paddingBottom:"32rpx"},title:!0,gridList:[{name:"优惠活动",id:"discount"},{name:"直播广场",id:"video"},{name:"积分商城",id:"mall"},{name:"直播申请",id:"live"}],gridItemStyle:{padding:"15rpx 0",minHeight:"120rpx"},loadStatus:"loadmore",flowList:[],current:0,page:1,totalPage:0}},onLoad:function(){n=this,n.openid||getApp().newPromise().then((function(t){console.log("newPromise:",t),n.$u.vuex("openid",t.openid),n.$u.vuex("isSwitch",t.switch)}));var t={distributor_id:n.userInfo.distributor_id,page:1};n.getList(t),n.getBanner(),n.getLocations()},onReachBottom:function(){if(n.loadStatus="loading",n.totalPage>=n.page){var t={distributor_id:n.userInfo.distributor_id,page:n.page};n.getList(t)}else n.loadStatus="nomore"},methods:{getBanner:function(){n.$u.get("/api/carouselfigure/list").then((function(t){console.log("getBanner",t);var e=t;e.map((function(t,e){t.title=t.cf_title})),n.swiperList=e})).catch((function(t){console.log("getBanner-catch",t)}))},getList:function(t){n.$u.post("/api/video/list_new",t).then((function(e){console.log("getList",e),n.totalPage=e.last_page,1==t.page&&(n.flowList=[]),n.addRandomData(e.data),n.page++,0!=e.data.length?n.loadStatus="loadmore":n.loadStatus="nomore"})).catch((function(t){console.log("getList-catch",t)}))},addRandomData:function(t){for(var e=[],o=0;o<t.length;o++){var i=n.$u.random(0,t.length-1),u=JSON.parse(JSON.stringify(t[i]));u.guid_id=n.$u.guid(),e.push(u)}n.flowList=e,console.log(e)},tabBarChange:function(t){console.log(t),2==t&&n.$u.route("/pages/add/add")},tapBanner:function(t){console.log(t);var e=n.swiperList[t].cf_id;n.toDetail(e)},toRoute:function(t){console.log(t),n.$u.route("/pages/integralMall/integralMall")},toDetail:function(t){console.log(t),n.$u.route({url:"/pages/videoDetail/videoDetail",params:{id:t}})},getLocations:function(){console.log("getLocations"),t.getLocation({success:function(t){console.log(t),n.$u.vuex("longitude",t.longitude),n.$u.vuex("latitude",t.latitude)},fail:function(t){console.log(t),n.$getSetting(n)}})}}};e.default=o}).call(this,n("543d")["default"])},"81d6":function(t,e,n){"use strict";var o=n("a215"),i=n.n(o);i.a},"837e":function(t,e,n){"use strict";(function(t){n("3e13");o(n("66fd"));var e=o(n("4e2d"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"84b0":function(t,e,n){"use strict";n.r(e);var o=n("6b0a"),i=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=i.a},a215:function(t,e,n){}},[["837e","common/runtime","common/vendor"]]]);