(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"4e2d":function(e,n,t){"use strict";t.r(n);var o=t("5588"),i=t("84b0");for(var u in i)"default"!==u&&function(e){t.d(n,e,(function(){return i[e]}))}(u);t("81d6");var a,r=t("f0c5"),l=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);n["default"]=l.exports},5588:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return o}));var o={uNavbar:function(){return t.e("uview-ui/components/u-navbar/u-navbar").then(t.bind(null,"bfec"))},uSwiper:function(){return t.e("uview-ui/components/u-swiper/u-swiper").then(t.bind(null,"b784"))},uGrid:function(){return t.e("uview-ui/components/u-grid/u-grid").then(t.bind(null,"7229"))},uGridItem:function(){return t.e("uview-ui/components/u-grid-item/u-grid-item").then(t.bind(null,"8ac3"))},uWaterfall:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-waterfall/u-waterfall")]).then(t.bind(null,"4260"))},uLazyLoad:function(){return t.e("uview-ui/components/u-lazy-load/u-lazy-load").then(t.bind(null,"dae6"))},uLoadmore:function(){return t.e("uview-ui/components/u-loadmore/u-loadmore").then(t.bind(null,"f0b1"))},uImage:function(){return t.e("uview-ui/components/u-image/u-image").then(t.bind(null,"7623"))}},i=function(){var e=this,n=e.$createElement;e._self._c},u=[]},"6b0a":function(e,n,t){"use strict";(function(e){var t;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={data:function(){return{background:{background:"url(../../static/image/logo.png) center no-repeat",backgroundSize:"172rpx 50rpx",backgroundColor:"#fff"},keyword:"",showAction:!1,swiperList:[],swiperStyle:{textAlign:"center",paddingBottom:"32rpx"},title:!0,gridList:[{name:"推荐",id:"recommend"},{name:"最新",id:"new"},{name:"最热",id:"hot"},{name:"附近",id:"nearby"},{name:"关注",id:"follow"}],gridItemStyle:{padding:"15rpx 0",minHeight:"120rpx"},loadStatus:"loadmore",flowList:[],current:0,page:1,totalPage:0}},onLoad:function(){t=this,t.openid?t.getUserInfo(t.openid):getApp().newPromise().then((function(e){console.log("newPromise:",e),t.$u.vuex("openid",e.openid),t.$u.vuex("isSwitch",e.switch),t.getUserInfo(e.openid)}));var e={distributor_id:t.userInfo.distributor_id,page:1};t.getList(e),t.getBanner(),t.getLocations()},onReachBottom:function(){if(t.loadStatus="loading",t.totalPage>=t.page){var e={distributor_id:t.userInfo.distributor_id,page:t.page};t.getList(e)}else t.loadStatus="nomore"},methods:{getBanner:function(){t.$u.get("/api/carouselfigure/list").then((function(e){console.log("getBanner",e);var n=e;n.map((function(e,n){e.title=e.cf_title})),t.swiperList=n})).catch((function(e){console.log("getBanner-catch",e)}))},getList:function(e){t.$u.post("/api/video/list_new",e).then((function(n){console.log("getList",n),t.totalPage=n.last_page,1==e.page&&(t.flowList=[]),t.addRandomData(n.data),t.page++,0!=n.data.length?t.loadStatus="loadmore":t.loadStatus="nomore"})).catch((function(e){console.log("getList-catch",e)}))},addRandomData:function(e){for(var n=[],o=0;o<e.length;o++){var i=t.$u.random(0,e.length-1),u=JSON.parse(JSON.stringify(e[i]));u.guid_id=t.$u.guid(),n.push(u)}t.flowList=n,console.log(n)},getUserInfo:function(e){var n={wx_openid:e};t.$u.post("/api/user/getUserInfo",n).then((function(e){console.log("getUserInfo",e)})).catch((function(e){console.log("getUserInfo-catch",e)}))},toAdd:function(e){t.userInfo.username&&t.userInfo.phone?t.$u.route("/pages/add/add"):t.$u.route("/pages/login/login")},tapBanner:function(e){console.log(e);var n=t.swiperList[e].cf_id;t.toDetail(n)},toRoute:function(e){console.log(e),t.$u.route("/pages/integralMall/integralMall")},toDetail:function(e){console.log(e),t.$u.route({url:"/pages/videoDetail/videoDetail",params:{id:e}})},getLocations:function(){console.log("getLocations"),e.getLocation({success:function(e){console.log(e),t.$u.vuex("longitude",e.longitude),t.$u.vuex("latitude",e.latitude)},fail:function(e){console.log(e),t.$getSetting(t)}})}}};n.default=o}).call(this,t("543d")["default"])},"81d6":function(e,n,t){"use strict";var o=t("a215"),i=t.n(o);i.a},"837e":function(e,n,t){"use strict";(function(e){t("3e13");o(t("66fd"));var n=o(t("4e2d"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"84b0":function(e,n,t){"use strict";t.r(n);var o=t("6b0a"),i=t.n(o);for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n["default"]=i.a},a215:function(e,n,t){}},[["837e","common/runtime","common/vendor"]]]);