(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"18df":function(n,e,o){"use strict";(function(n){o("3e13");t(o("66fd"));var e=t(o("e297"));function t(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,o("543d")["createPage"])},"1af0":function(n,e,o){"use strict";o.d(e,"b",(function(){return u})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return t}));var t={uNavbar:function(){return o.e("uview-ui/components/u-navbar/u-navbar").then(o.bind(null,"bfec"))},uAvatar:function(){return o.e("uview-ui/components/u-avatar/u-avatar").then(o.bind(null,"d2f9"))},uForm:function(){return o.e("uview-ui/components/u-form/u-form").then(o.bind(null,"6c89"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"23ff"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-input/u-input")]).then(o.bind(null,"6ef9"))},uIcon:function(){return o.e("uview-ui/components/u-icon/u-icon").then(o.bind(null,"5233"))},uVerificationCode:function(){return o.e("uview-ui/components/u-verification-code/u-verification-code").then(o.bind(null,"09a6"))},uButton:function(){return o.e("uview-ui/components/u-button/u-button").then(o.bind(null,"4b26"))},uLoadmore:function(){return o.e("uview-ui/components/u-loadmore/u-loadmore").then(o.bind(null,"f0b1"))},uToast:function(){return o.e("uview-ui/components/u-toast/u-toast").then(o.bind(null,"0563"))}},u=function(){var n=this,e=n.$createElement;n._self._c},i=[]},"57c4":function(n,e,o){"use strict";var t=o("9805"),u=o.n(t);u.a},6005:function(n,e,o){"use strict";(function(n){var o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={data:function(){var n=this;return{errorType:["toast"],codeTips:"",model:{type:2,phone:"",vcode:""},modelPwd:{type:1,phone:"",password:"",wx_openid:""},rules:{phone:[{required:!0,message:"请输入手机号",trigger:["blur"]},{validator:function(e,o,t){return n.$u.test.mobile(o)},message:"手机号码不正确",trigger:["blur"]}],vcode:[{required:!0,message:"请输入验证码",trigger:["blur"]},{type:"number",message:"验证码只能为数字",trigger:["blur"]}]},rulesPwd:{phone:[{required:!0,message:"请输入手机号",trigger:["blur"]},{validator:function(e,o,t){return n.$u.test.mobile(o)},message:"手机号码不正确",trigger:["blur"]}],password:[{required:!0,message:"请输入密码",trigger:["blur"]}]},loadText:{nomore:"其他登录方式"},customStyle:{backgroundColor:"rgba(0,0,0,0)"},showVeriFication:!0,toogleLogin:!0}},onLoad:function(){o=this,o.modelPwd.wx_openid=o.openid,console.log(o)},onReady:function(){this.$refs.uForm.setRules(this.rules),this.$refs.uFormPwd.setRules(this.rulesPwd)},methods:{submit:function(){o.toogleLogin?o.$refs.uForm.validate((function(n){console.log(n),n?console.log("验证通过"):console.log("验证失败")})):o.$refs.uFormPwd.validate((function(n){console.log(n),n?(o.loginPwd(o.modelPwd),console.log("验证通过")):console.log("验证失败")}))},loginPwd:function(n){o.$u.post("/api/user/login",n).then((function(n){console.log("loginPwd",n),o.$u.vuex("token",n.token),o.$u.vuex("userInfo",n),o.showToast()})).catch((function(n){console.log("catch",n)}))},showToast:function(){o.$refs.uToast.show({title:"登录成功",type:"success",back:!0})},getPhoneNumber:function(n){console.log(n)},toIntegral:function(){o.$u.route("/pages/integral/integral")},toLogin:function(){o.$u.route("/pages/login/login")},toogle:function(){o.toogleLogin=!o.toogleLogin},end:function(){o.showVeriFication=!0,this.$u.toast("倒计时结束")},start:function(){o.showVeriFication=!1,this.$u.toast("倒计时开始")},codeChange:function(n){this.codeTips=n},getCode:function(){var e=this;this.$refs.uCode.canGetCode?(n.showLoading({title:"正在获取验证码",mask:!0}),setTimeout((function(){n.hideLoading(),e.$u.toast("验证码已发送"),e.$refs.uCode.start()}),2e3)):this.$u.toast("倒计时结束后再发送")}}};e.default=t}).call(this,o("543d")["default"])},9805:function(n,e,o){},bf45:function(n,e,o){"use strict";o.r(e);var t=o("6005"),u=o.n(t);for(var i in t)"default"!==i&&function(n){o.d(e,n,(function(){return t[n]}))}(i);e["default"]=u.a},e297:function(n,e,o){"use strict";o.r(e);var t=o("1af0"),u=o("bf45");for(var i in u)"default"!==i&&function(n){o.d(e,n,(function(){return u[n]}))}(i);o("57c4");var r,s=o("f0c5"),c=Object(s["a"])(u["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],r);e["default"]=c.exports}},[["18df","common/runtime","common/vendor"]]]);