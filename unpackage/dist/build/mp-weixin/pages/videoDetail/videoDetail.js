(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/videoDetail/videoDetail"],{"08e7":function(e,o,n){"use strict";(function(e){n("3e13");t(n("66fd"));var o=t(n("231c"));function t(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,n("543d")["createPage"])},"1a84":function(e,o,n){"use strict";n.d(o,"b",(function(){return u})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return t}));var t={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"bfec"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"2bd0"))},uParse:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-parse/u-parse")]).then(n.bind(null,"b57c"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"4b26"))},uBadge:function(){return n.e("uview-ui/components/u-badge/u-badge").then(n.bind(null,"be8a"))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,"5477"))},uAvatar:function(){return n.e("uview-ui/components/u-avatar/u-avatar").then(n.bind(null,"d2f9"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"5233"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"23ff"))},uInput:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-input/u-input")]).then(n.bind(null,"6ef9"))},uImage:function(){return n.e("uview-ui/components/u-image/u-image").then(n.bind(null,"7623"))},uModal:function(){return n.e("uview-ui/components/u-modal/u-modal").then(n.bind(null,"f891"))}},u=function(){var e=this,o=e.$createElement;e._self._c},i=[]},"231c":function(e,o,n){"use strict";n.r(o);var t=n("1a84"),u=n("cbef");for(var i in u)"default"!==i&&function(e){n.d(o,e,(function(){return u[e]}))}(i);n("26a0");var c,a=n("f0c5"),s=Object(a["a"])(u["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],c);o["default"]=s.exports},"26a0":function(e,o,n){"use strict";var t=n("f0f7"),u=n.n(t);u.a},cbef:function(e,o,n){"use strict";n.r(o);var t=n("df88"),u=n.n(t);for(var i in t)"default"!==i&&function(e){n.d(o,e,(function(){return t[e]}))}(i);o["default"]=u.a},df88:function(e,o,n){"use strict";(function(e){var n;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t={data:function(){return{art:"",newsId:"",show:!1,title:"video",src:"",showVideo:!1,offset:[-20,-40],list:[{cate_name:"车系概览"},{cate_name:"参数配置"},{cate_name:"商家介绍"}],current:0,activeStyle:{color:""},customStyle:{width:"100%",height:"100%",opacity:0},posterShow:!1,modalShow:!1,modalCustomStyle:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",opacity:0},commentList:[],commentValue:"",commentCustomStyle:{background:"#fff",padding:"0 20rpx",borderRadius:"6rpx"},showContainer:!1}},onLoad:function(e){n=this,console.log(e),n.newsId=e.id;var o={news_id:e.id,user_id:n.userInfo.user_id};n.getInfo(o)},onReady:function(o){this.videoContext=e.createVideoContext("myVideo"),this.showVideo=!0},onShareAppMessage:function(){return console.log("onShareAppMessage"),n.share(),{title:"自定义转发标题",path:"/page/user?id=123",success:function(){console.log("onShareAppMessage-success")}}},onShareTimeline:function(){return console.log("onShareTimeline"),{title:n.art.title,query:"a=1&b=2"}},methods:{getInfo:function(e){n.$u.post("/api/video/info",e).then((function(e){console.log("getInfo",e),n.art=e,n.showContainer=!0,n.getComment(n.newsId)})).catch((function(e){console.log("getList-catch",e)}))},getComment:function(e){n.$u.get("/api/comment/list/"+e).then((function(e){console.log("getComment",e),n.commentList=e.data})).catch((function(e){console.log("getComment-catch",e)}))},videoPlayer:function(e){var o={news_id:n.newsId,user_id:n.userInfo.user_id,type:e};console.log(o),n.$u.post("/api/news/play",o).then((function(e){console.log("videoPlayer",e)})).catch((function(e){console.log("videoPlayer-catch",e)}))},videoPlay:function(e){n.videoPlayer(0)},videoEnd:function(){n.videoPlayer(1)},showComment:function(){n.show=!0},addComment:function(){n.$u.post("/api/video/info",data).then((function(e){console.log("getInfo",e),n.art=e,n.getComment(n.newsId)})).catch((function(e){console.log("getList-catch",e)}))},makePhoneCall:function(o){n.userInfo.phone?e.makePhoneCall({phoneNumber:n.art.phone}):n.$u.route("/pages/login/login")},share:function(){var e={news_id:n.newsId,user_id:n.userInfo.user_id};console.log("share-data:",e),n.$u.post("/api/news/share",e).then((function(e){console.log("share",e)})).catch((function(e){console.log("share-catch",e)}))},tapShare:function(e){console.log(e)},tapPoster:function(e){console.log(e),n.posterShow=!0},tpaCollect:function(){var e={news_id:n.newsId,user_id:n.userInfo.user_id,type:n.art.is_collect};console.log(e),n.$u.post("/api/news/collect",e).then((function(e){console.log("tpaCollect",e),n.$set(n.art,"is_collect",0==n.art.is_collect?1:0)})).catch((function(e){console.log("tpaCollect-catch",e)}))},modalConfirm:function(){console.log("modalConfirm"),n.modalShow=!1},getSetting:function(){var o=n.isFirstSaveImage;e.getSetting({success:function(t){console.log("getSetting",t),console.log("!res.authSetting['scope.writePhotosAlbum']",!t.authSetting["scope.writePhotosAlbum"]),t.authSetting["scope.writePhotosAlbum"]?n.saveImage():e.authorize({scope:"scope.writePhotosAlbum",success:function(e){console.log("authorize",e)},fail:function(){console.log("authorize-fail"),0==o?n.$u.vuex("isFirstSaveImage",1):n.modalShow=!0}})}})},saveImage:function(){e.downloadFile({url:"https://img-blog.csdnimg.cn/20190124095040684.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzE3NDcwMTY1,size_16,color_FFFFFF,t_70",success:function(o){console.log(o),200===o.statusCode&&(console.log("下载成功"),e.saveImageToPhotosAlbum({filePath:o.tempFilePath,success:function(){console.log("save success")}}))}})},toDetail:function(e){console.log(e),n.$u.route({url:"/pages/videoDetail/videoDetail",type:"redirect",params:{id:e}})},toLogin:function(){n.$u.route("/pages/login/login")},change:function(e){this.current=e}}};o.default=t}).call(this,n("543d")["default"])},f0f7:function(e,o,n){}},[["08e7","common/runtime","common/vendor"]]]);