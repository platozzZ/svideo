(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/videoDetail/videoDetail"],{"08e7":function(e,n,o){"use strict";(function(e){o("3e13");t(o("66fd"));var n=t(o("231c"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("543d")["createPage"])},"231c":function(e,n,o){"use strict";o.r(n);var t=o("518e"),u=o("cbef");for(var i in u)"default"!==i&&function(e){o.d(n,e,(function(){return u[e]}))}(i);o("26a0");var c,a=o("f0c5"),s=Object(a["a"])(u["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],c);n["default"]=s.exports},"26a0":function(e,n,o){"use strict";var t=o("f0f7"),u=o.n(t);u.a},"518e":function(e,n,o){"use strict";o.d(n,"b",(function(){return u})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){return t}));var t={uNavbar:function(){return o.e("uview-ui/components/u-navbar/u-navbar").then(o.bind(null,"bfec"))},uTabs:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-tabs/u-tabs")]).then(o.bind(null,"2bd0"))},uParse:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-parse/u-parse")]).then(o.bind(null,"b57c"))},uIcon:function(){return o.e("uview-ui/components/u-icon/u-icon").then(o.bind(null,"5233"))},uButton:function(){return o.e("uview-ui/components/u-button/u-button").then(o.bind(null,"4b26"))},uBadge:function(){return o.e("uview-ui/components/u-badge/u-badge").then(o.bind(null,"be8a"))},uPopup:function(){return o.e("uview-ui/components/u-popup/u-popup").then(o.bind(null,"5477"))},uAvatar:function(){return o.e("uview-ui/components/u-avatar/u-avatar").then(o.bind(null,"d2f9"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"23ff"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-input/u-input")]).then(o.bind(null,"6ef9"))},uImage:function(){return o.e("uview-ui/components/u-image/u-image").then(o.bind(null,"7623"))},uModal:function(){return o.e("uview-ui/components/u-modal/u-modal").then(o.bind(null,"f891"))}},u=function(){var e=this,n=e.$createElement;e._self._c},i=[]},cbef:function(e,n,o){"use strict";o.r(n);var t=o("df88"),u=o.n(t);for(var i in t)"default"!==i&&function(e){o.d(n,e,(function(){return t[e]}))}(i);n["default"]=u.a},df88:function(e,n,o){"use strict";(function(e){function o(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var t;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u={data:function(){var e;return e={art:"",newsId:"",show:!1,title:"video",src:"",showVideo:!1,offset:[-20,-40],list:[{cate_name:"车系概览"},{cate_name:"参数配置"},{cate_name:"商家介绍"}],current:0,activeStyle:{color:""}},o(e,"show",!1),o(e,"customStyle",{width:"100%",height:"100%",opacity:0}),o(e,"posterShow",!1),o(e,"modalShow",!1),o(e,"modalCustomStyle",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",opacity:0}),o(e,"commentList",[]),o(e,"commentValue",""),o(e,"commentCustomStyle",{background:"#fff",padding:"0 20rpx",borderRadius:"6rpx"}),o(e,"showContainer",!1),e},onLoad:function(e){t=this,console.log(e),t.newsId=e.id;var n={news_id:e.id,user_id:t.userInfo.user_id};t.getInfo(n)},onReady:function(n){this.videoContext=e.createVideoContext("myVideo"),this.showVideo=!0},onShareAppMessage:function(){return console.log("onShareAppMessage"),t.share(),{title:"自定义转发标题",path:"/page/user?id=123",success:function(){console.log("onShareAppMessage-success")}}},onShareTimeline:function(){return console.log("onShareTimeline"),{title:t.art.title,query:"a=1&b=2"}},methods:{getInfo:function(e){t.$u.post("/api/video/info",e).then((function(e){console.log("getInfo",e),t.art=e,t.showContainer=!0,t.getComment(t.newsId)})).catch((function(e){console.log("getList-catch",e)}))},getComment:function(e){t.$u.get("/api/comment/list/"+e).then((function(e){console.log("getComment",e),t.commentList=e.data})).catch((function(e){console.log("getComment-catch",e)}))},videoPlayer:function(e){var n={news_id:t.newsId,user_id:t.userInfo.user_id,type:e};console.log(n),t.$u.post("/api/news/play",n).then((function(e){console.log("videoPlayer",e)})).catch((function(e){console.log("videoPlayer-catch",e)}))},videoPlay:function(e){t.videoPlayer(0)},videoEnd:function(){t.videoPlayer(1)},showComment:function(){t.show=!0},addComment:function(){t.$u.post("/api/video/info",data).then((function(e){console.log("getInfo",e),t.art=e,t.getComment(t.newsId)})).catch((function(e){console.log("getList-catch",e)}))},makePhoneCall:function(n){e.makePhoneCall({phoneNumber:t.art.phone})},share:function(){var e={news_id:t.newsId,user_id:t.userInfo.user_id};console.log("share-data:",e),t.$u.post("/api/news/share",e).then((function(e){console.log("share",e)})).catch((function(e){console.log("share-catch",e)}))},tapShare:function(e){console.log(e)},tapPoster:function(e){console.log(e),t.posterShow=!0},tpaCollect:function(){var e={news_id:t.newsId,user_id:t.userInfo.user_id,type:t.art.is_collect};console.log(e),t.$u.post("/api/news/collect",e).then((function(e){console.log("tpaCollect",e),t.$set(t.art,"is_collect",0==t.art.is_collect?1:0)})).catch((function(e){console.log("tpaCollect-catch",e)}))},modalConfirm:function(){console.log("modalConfirm"),t.modalShow=!1},getSetting:function(){var n=t.isFirstSaveImage;e.getSetting({success:function(o){console.log("getSetting",o),console.log("!res.authSetting['scope.writePhotosAlbum']",!o.authSetting["scope.writePhotosAlbum"]),o.authSetting["scope.writePhotosAlbum"]?t.saveImage():e.authorize({scope:"scope.writePhotosAlbum",success:function(e){console.log("authorize",e)},fail:function(){console.log("authorize-fail"),0==n?t.$u.vuex("isFirstSaveImage",1):t.modalShow=!0}})}})},saveImage:function(){e.downloadFile({url:"https://img-blog.csdnimg.cn/20190124095040684.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzE3NDcwMTY1,size_16,color_FFFFFF,t_70",success:function(n){console.log(n),200===n.statusCode&&(console.log("下载成功"),e.saveImageToPhotosAlbum({filePath:n.tempFilePath,success:function(){console.log("save success")}}))}})},toDetail:function(e){console.log(e),t.$u.route({url:"/pages/videoDetail/videoDetail",type:"redirect",params:{id:e}})},change:function(e){this.current=e}}};n.default=u}).call(this,o("543d")["default"])},f0f7:function(e,n,o){}},[["08e7","common/runtime","common/vendor"]]]);